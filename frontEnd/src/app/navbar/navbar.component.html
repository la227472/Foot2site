<nav class="navbar">
  <div class="navbar-container">
    <div class="navbar-brand">
      <a routerLink="/accueil">RAMène-toi</a>
    </div>

    <div class="navbar-menu">
      <a routerLink="/accueil" routerLinkActive="active">Accueil</a>
      <a routerLink="/comparer" routerLinkActive="active">Comparer</a>
      <a *ngIf="connectionService.isAdmin()" routerLink="/gerer-composant" routerLinkActive="active">Gérer Composant</a>
    </div>

    <div class="navbar-icons">
      <button class="icon-btn" title="Panier">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
      </button>

      <!-- Afficher profil et déconnexion uniquement si connecté -->
      <ng-container *ngIf="connectionService.isAuthenticated(); else loginButton">
        <button class="icon-btn" title="Profil">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </button>

        <button class="icon-btn" (click)="logout()" title="Déconnexion">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </button>
      </ng-container>

      <!-- Bouton de connexion si non connecté -->
      <ng-template #loginButton>
        <button class="icon-btn login-btn" routerLink="/connection" title="Se connecter">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
            <polyline points="10 17 15 12 10 7"></polyline>
            <line x1="15" y1="12" x2="3" y2="12"></line>
          </svg>
        </button>
      </ng-template>
    </div>
  </div>
</nav>
